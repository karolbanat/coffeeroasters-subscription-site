"use strict";var methodButtons=document.querySelectorAll("[data-method]"),coffeeTypeButtons=document.querySelectorAll("[data-coffee-type]"),quantityButtons=document.querySelectorAll("[data-quantity]"),grindButtons=document.querySelectorAll("[data-grind]"),frequencyButtons=document.querySelectorAll("[data-frequency]"),summaryText=document.querySelector("#summary-text"),modalSummaryText=document.querySelector("#modal-summary-text"),weekPricing=document.querySelector("#week-pricing"),twoWeekPricing=document.querySelector("#two-week-pricing"),monthPricing=document.querySelector("#month-pricing"),checkoutModal=document.querySelector("#checkout-modal"),closeModalBtn=checkoutModal.querySelector("#modal-close-button"),modalCheckoutPrice=checkoutModal.querySelector("#modal-checkout-price"),modalButtonCheckoutPrice=checkoutModal.querySelector("#button-modal-checkout-price"),grindDetails=document.querySelector("#grind-option"),grindDetailsSummary=grindDetails.querySelector("summary"),planSubmitBtn=document.querySelector("#plan-creation-submit"),SUMMARY_PLACEHOLDER="_____",PRICING_DATA={250:{week:7.2,twoWeeks:9.6,month:12},500:{week:13,twoWeeks:17.5,month:22},1e3:{week:22,twoWeeks:32,month:42}},method="",coffeeType="",quantity="",grind="",frequency="",handleMethodChoice=function(e){method=e.target.dataset.method,preventCapsuleGrind(method),insertSummary()},preventCapsuleGrind=function(e){e="capsules"===e;e&&grindDetails.removeAttribute("open"),grindDetails.setAttribute("aria-disabled",e),grindDetails.toggleAttribute("data-disabled",e),grindDetailsSummary.tabIndex=e?-1:0},handleCoffeeTypeChoice=function(e){coffeeType=e.target.dataset.coffeeType,insertSummary()},handleQuantityChoice=function(e){quantity=e.target.dataset.quantity,insertPricingData(quantity),insertSummary()},insertPricingData=function(e){var e=PRICING_DATA[e],t=e.week,n=e.twoWeeks,e=e.month;weekPricing.innerText="$".concat(t.toFixed(2)),twoWeekPricing.innerText="$".concat(n.toFixed(2)),monthPricing.innerText="$".concat(e.toFixed(2))},handleGrindChoice=function(e){grind=e.target.dataset.grind,insertSummary()},handleFrequencyChoice=function(e){frequency=e.target.dataset.frequency,insertSummary()},radioButtonHandler=function(e,t){t(e),handleSubmitBtnActivation()},insertSummary=function(){summaryText.innerHTML=createSummary()},insertModalSummary=function(){modalSummaryText.innerHTML=createSummary()},createSummary=function(){var e=createMethodPart(),t=createCoffeTypePart(),n=createQuantityPart(),r=createGrindPart(),a=createFrequencyPart();return"“I drink coffee ".concat(e,", with a ").concat(t," type of bean. ").concat(n,", ").concat(r,"sent to me ").concat(a,".”")},createMethodPart=function(){var e;return""===method?createSpan():(e="capsules"===method?"using":"as","".concat(e," ").concat(createSpan(method)))},createCoffeTypePart=function(){return createSpan(coffeeType||SUMMARY_PLACEHOLDER)},createQuantityPart=function(){var e;return""===quantity?createSpan():(e="".concat(quantity,"g"),createSpan(e))},createGrindPart=function(){return"capsules"===method?"":"ground ala ".concat(grind?createSpan(grind):createSpan(),", ")},createFrequencyPart=function(){var e;return""===frequency?createSpan():(e="every ".concat(frequency),createSpan(e))},createSpan=function(){return"<span>".concat(0<arguments.length&&void 0!==arguments[0]?arguments[0]:SUMMARY_PLACEHOLDER,"</span>")},handleSubmitBtnActivation=function(){var e=""!==method,t=""!==coffeeType,n=""!==quantity,r="capsules"===method||""!==grind,a=""!==frequency;planSubmitBtn.toggleAttribute("disabled",!(e&&t&&n&&r&&a))},handleSubmitBtn=function(e){e.preventDefault(),showModal(),insertCheckoutPrice()},insertCheckoutPrice=function(){var e=calculatePrice();modalCheckoutPrice.innerText="$".concat(e,"/month"),modalButtonCheckoutPrice.innerText="$".concat(e,"/mo")},calculatePrice=function(){switch(frequency){case"week":return(4*PRICING_DATA[quantity].week).toFixed(2);case"2 weeks":return(2*PRICING_DATA[quantity].twoWeeks).toFixed(2);case"month":return(+PRICING_DATA[quantity].month).toFixed(2);default:return"0.00"}},showModal=function(){checkoutModal.classList.add("visible"),document.body.classList.add("modal-dropshadow"),insertModalSummary(),closeModalBtn.focus()},closeModal=function(){checkoutModal.classList.remove("visible"),document.body.classList.remove("modal-dropshadow")};methodButtons.forEach(function(e){return e.addEventListener("click",function(e){return radioButtonHandler(e,handleMethodChoice)})}),coffeeTypeButtons.forEach(function(e){return e.addEventListener("click",function(e){return radioButtonHandler(e,handleCoffeeTypeChoice)})}),quantityButtons.forEach(function(e){return e.addEventListener("click",function(e){return radioButtonHandler(e,handleQuantityChoice)})}),grindButtons.forEach(function(e){return e.addEventListener("click",function(e){return radioButtonHandler(e,handleGrindChoice)})}),frequencyButtons.forEach(function(e){return e.addEventListener("click",function(e){return radioButtonHandler(e,handleFrequencyChoice)})}),grindDetailsSummary.addEventListener("click",function(e){e.preventDefault(),grindDetails.hasAttribute("data-disabled")||(grindDetails.open=!grindDetails.open)}),planSubmitBtn.addEventListener("click",handleSubmitBtn),closeModalBtn.addEventListener("click",closeModal);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsYW4tZm9ybS5qcyJdLCJuYW1lcyI6WyJtZXRob2RCdXR0b25zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29mZmVlVHlwZUJ1dHRvbnMiLCJxdWFudGl0eUJ1dHRvbnMiLCJncmluZEJ1dHRvbnMiLCJmcmVxdWVuY3lCdXR0b25zIiwid2Vla1ByaWNpbmciLCJxdWVyeVNlbGVjdG9yIiwic3VtbWFyeVRleHQiLCJtb2RhbFN1bW1hcnlUZXh0IiwiY2hlY2tvdXRNb2RhbCIsInR3b1dlZWtQcmljaW5nIiwibW9udGhQcmljaW5nIiwiZ3JpbmREZXRhaWxzIiwiY2xvc2VNb2RhbEJ0biIsIlNVTU1BUllfUExBQ0VIT0xERVIiLCJQUklDSU5HX0RBVEEiLCIyNTAiLCJ3ZWVrIiwiZ3JpbmREZXRhaWxzU3VtbWFyeSIsInR3b1dlZWtzIiwicGxhblN1Ym1pdEJ0biIsIm1vbnRoIiwiNTAwIiwiMTAwMCIsIm1ldGhvZCIsImZyZXF1ZW5jeSIsImNvZmZlZVR5cGUiLCJlIiwicXVhbnRpdHkiLCJ0YXJnZXQiLCJkYXRhc2V0IiwicHJldmVudENhcHN1bGVHcmluZCIsImluc2VydFN1bW1hcnkiLCJpc0NhcHN1bGVzIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwidG9nZ2xlQXR0cmlidXRlIiwidGFiSW5kZXgiLCJoYW5kbGVRdWFudGl0eUNob2ljZSIsImluc2VydFByaWNpbmdEYXRhIiwiX1BSSUNJTkdfREFUQSRxdWFudGl0IiwiY29uY2F0IiwidG9GaXhlZCIsImhhbmRsZUdyaW5kQ2hvaWNlIiwiZ3JpbmQiLCJoYW5kbGVyIiwiaGFuZGxlU3VibWl0QnRuQWN0aXZhdGlvbiIsImlubmVySFRNTCIsImNyZWF0ZVN1bW1hcnkiLCJjb2ZmZWVUeXBlVGV4dCIsImNyZWF0ZUNvZmZlVHlwZVBhcnQiLCJxdWFudGl0eVRleHQiLCJjcmVhdGVRdWFudGl0eVBhcnQiLCJncmluZFRleHQiLCJjcmVhdGVHcmluZFBhcnQiLCJmcmVxdWVuY3lUZXh0IiwiY3JlYXRlRnJlcXVlbmN5UGFydCIsImluc2VydE1vZGFsU3VtbWFyeSIsImpvaW5Xb3JkIiwiY3JlYXRlU3BhbiIsImNyZWF0ZU1ldGhvZFBhcnQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJtZXRob2RDaG9zZW4iLCJmcmVxdWVuY3lDaG9zZW4iLCJjb2ZmZWVUeXBlQ2hvc2VuIiwicXVhbnRpdHlDaG9zZW4iLCJncmluZENob3NlbiIsImhhbmRsZVN1Ym1pdEJ0biIsInByZXZlbnREZWZhdWx0Iiwic2hvd01vZGFsIiwiaW5zZXJ0Q2hlY2tvdXRQcmljZSIsIm1vZGFsQ2hlY2tvdXRQcmljZSIsImNoZWNrb3V0UHJpY2UiLCJtb2RhbEJ1dHRvbkNoZWNrb3V0UHJpY2UiLCJjYWxjdWxhdGVQcmljZSIsImNsYXNzTGlzdCIsImFkZCIsImZvY3VzIiwiY2xvc2VNb2RhbCIsImJvZHkiLCJyZW1vdmUiLCJmb3JFYWNoIiwiYnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJhZGlvQnV0dG9uSGFuZGxlciIsImhhbmRsZU1ldGhvZENob2ljZSIsImhhbmRsZUNvZmZlZVR5cGVDaG9pY2UiLCJoYW5kbGVGcmVxdWVuY3lDaG9pY2UiLCJvcGVuIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFBQSxjQUFBQyxTQUFBQyxpQkFBQSxlQUFBLEVBR01DLGtCQUFvQkYsU0FBU0MsaUJBQWlCLG9CQUExQixFQUYxQkUsZ0JBQUFILFNBQUFDLGlCQUFBLGlCQUFBLEVBQ01GLGFBQWdCQyxTQUFTQyxpQkFBaUIsY0FBMUJELEVBQ2hCRSxpQkFBb0JGLFNBQVNDLGlCQUFpQixrQkFBMUJELEVBRXBCSSxZQUFlSixTQUFTQyxjQUFBQSxlQUFURCxFQUNmSyxpQkFBbUJMLFNBQVNDLGNBQVQscUJBQUFELEVBS25CTSxZQUFjTixTQUFTTyxjQUFjLGVBQXZCLEVBSGRDLGVBQWNSLFNBQVNPLGNBQWMsbUJBQXZCUCxFQUNkUyxhQUFnQlQsU0FBR0EsY0FBU08sZ0JBQVosRUFNaEJHLGNB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QUEsU0FBQTFELEdBQUEsT0FBQTJELG1CQUFBM0QsRUFBQWdCLGlCQUFBLENBQUEsQ0FBbEI0QixDQUFZLENBQWxCLEVBcUJBbkUsaUJBcEJleUUsUUFBZCxTQUF3QkMsR0FBeEIsT0FxQkFNLEVBcEJBckYsaUJBQUEsUUFBNEIsU0FBQTRCLEdBQUEsT0FBQTJELG1CQUE1QjNELEVBQUE4RCxxQkFBQSxDQUE0QixDQW9CNUIsQ0FyQkEsQ0FvQkQsRUFLQXZFLG9CQUFvQm1FLGlCQUFpQixRQUFTLFNBQUMxRCxHQW5CL0NBLEVBQUEyQyxlQUFBLEVBQ0M3RCxhQUFjb0UsYUFBVUssZUFBeEJ6RSxJQXFCQUcsYUFwQlNxRSxLQUFLSixDQUFBQSxhQUFpQmEsS0FGaEMsQ0FtQkEsRUFPQXRFLGNBQWNpRSxpQkFBaUIsUUFBU2hCLGVBQXhDLEVBRUF4RCxjQXRCa0N1RSxpQkFBT0MsUUFBUEwsVUFzQmxDIiwiZmlsZSI6InBsYW4tZm9ybS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBmb3JtIGVsZW1lbnRzICovXHJcbi8qIC0tLSByYWRpbyBidXR0b25zIC0tLSAqL1xyXG5jb25zdCBtZXRob2RCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbWV0aG9kXScpO1xyXG5jb25zdCBjb2ZmZWVUeXBlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvZmZlZS10eXBlXScpO1xyXG5jb25zdCBxdWFudGl0eUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1xdWFudGl0eV0nKTtcclxuY29uc3QgZ3JpbmRCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZ3JpbmRdJyk7XHJcbmNvbnN0IGZyZXF1ZW5jeUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mcmVxdWVuY3ldJyk7XHJcbi8qIG91dHB1dHMgKi9cclxuY29uc3Qgc3VtbWFyeVRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3VtbWFyeS10ZXh0Jyk7XHJcbmNvbnN0IG1vZGFsU3VtbWFyeVRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbW9kYWwtc3VtbWFyeS10ZXh0Jyk7XHJcbi8qIHByaWNpbmcgc3BhbnMgKi9cclxuY29uc3Qgd2Vla1ByaWNpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd2Vlay1wcmljaW5nJyk7XHJcbmNvbnN0IHR3b1dlZWtQcmljaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3R3by13ZWVrLXByaWNpbmcnKTtcclxuY29uc3QgbW9udGhQcmljaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21vbnRoLXByaWNpbmcnKTtcclxuLyogbW9kYWwgKi9cclxuY29uc3QgY2hlY2tvdXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjaGVja291dC1tb2RhbCcpO1xyXG5jb25zdCBjbG9zZU1vZGFsQnRuID0gY2hlY2tvdXRNb2RhbC5xdWVyeVNlbGVjdG9yKCcjbW9kYWwtY2xvc2UtYnV0dG9uJyk7XHJcbmNvbnN0IG1vZGFsQ2hlY2tvdXRQcmljZSA9IGNoZWNrb3V0TW9kYWwucXVlcnlTZWxlY3RvcignI21vZGFsLWNoZWNrb3V0LXByaWNlJyk7XHJcbmNvbnN0IG1vZGFsQnV0dG9uQ2hlY2tvdXRQcmljZSA9IGNoZWNrb3V0TW9kYWwucXVlcnlTZWxlY3RvcignI2J1dHRvbi1tb2RhbC1jaGVja291dC1wcmljZScpO1xyXG4vKiAtLS0gb3RoZXIgLS0tICovXHJcbmNvbnN0IGdyaW5kRGV0YWlscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNncmluZC1vcHRpb24nKTtcclxuY29uc3QgZ3JpbmREZXRhaWxzU3VtbWFyeSA9IGdyaW5kRGV0YWlscy5xdWVyeVNlbGVjdG9yKCdzdW1tYXJ5Jyk7XHJcbmNvbnN0IHBsYW5TdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGxhbi1jcmVhdGlvbi1zdWJtaXQnKTtcclxuLyogZm9ybSBlbGVtZW50cyBlbmQgKi9cclxuXHJcbmNvbnN0IFNVTU1BUllfUExBQ0VIT0xERVIgPSAnX19fX18nO1xyXG5jb25zdCBQUklDSU5HX0RBVEEgPSB7XHJcblx0MjUwOiB7XHJcblx0XHR3ZWVrOiA3LjIsXHJcblx0XHR0d29XZWVrczogOS42LFxyXG5cdFx0bW9udGg6IDEyLjAsXHJcblx0fSxcclxuXHQ1MDA6IHtcclxuXHRcdHdlZWs6IDEzLjAsXHJcblx0XHR0d29XZWVrczogMTcuNSxcclxuXHRcdG1vbnRoOiAyMi4wLFxyXG5cdH0sXHJcblx0MTAwMDoge1xyXG5cdFx0d2VlazogMjIuMCxcclxuXHRcdHR3b1dlZWtzOiAzMi4wLFxyXG5cdFx0bW9udGg6IDQyLjAsXHJcblx0fSxcclxufTtcclxuXHJcbmxldCBtZXRob2QgPSAnJztcclxubGV0IGNvZmZlZVR5cGUgPSAnJztcclxubGV0IHF1YW50aXR5ID0gJyc7XHJcbmxldCBncmluZCA9ICcnO1xyXG5sZXQgZnJlcXVlbmN5ID0gJyc7XHJcblxyXG4vKiByYWRpbyBidXR0b25zIGhhbmRsaW5nICovXHJcbmNvbnN0IGhhbmRsZU1ldGhvZENob2ljZSA9IChlKSA9PiB7XHJcblx0bWV0aG9kID0gZS50YXJnZXQuZGF0YXNldC5tZXRob2Q7XHJcblx0cHJldmVudENhcHN1bGVHcmluZChtZXRob2QpO1xyXG5cdGluc2VydFN1bW1hcnkoKTtcclxufTtcclxuXHJcbi8qIGhhbmRsaW5nIGRldGFpbHMgZm9yIGdyaW5kaW5nIG9wdGlvbnMgdXNpbmcgbWV0aG9kIGNob3NlbiAqL1xyXG5jb25zdCBwcmV2ZW50Q2Fwc3VsZUdyaW5kID0gKG1ldGhvZCkgPT4ge1xyXG5cdGNvbnN0IGlzQ2Fwc3VsZXMgPSBtZXRob2QgPT09ICdjYXBzdWxlcyc7XHJcblx0aXNDYXBzdWxlcyA/IGdyaW5kRGV0YWlscy5yZW1vdmVBdHRyaWJ1dGUoJ29wZW4nKSA6IG51bGw7IC8vIGhpZGUgZ3JpbmQgZGV0YWlscyBpZiBjYXBzdWxlcyBjaG9zZW5cclxuXHRncmluZERldGFpbHMuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgaXNDYXBzdWxlcyk7XHJcblx0Z3JpbmREZXRhaWxzLnRvZ2dsZUF0dHJpYnV0ZSgnZGF0YS1kaXNhYmxlZCcsIGlzQ2Fwc3VsZXMpOyAvLyBkaXNhYmxlZCBzdHlsZXMgZm9yIGdyaW5kIGRldGFpbHMgYWNjb3JkaW9uXHJcblx0Z3JpbmREZXRhaWxzU3VtbWFyeS50YWJJbmRleCA9IGlzQ2Fwc3VsZXMgPyAtMSA6IDA7IC8vIHByZXZlbnQgZnJvbSB0YWJiaW5nIGlmIGRpc2FibGVkXHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVDb2ZmZWVUeXBlQ2hvaWNlID0gKGUpID0+IHtcclxuXHRjb2ZmZWVUeXBlID0gZS50YXJnZXQuZGF0YXNldC5jb2ZmZWVUeXBlO1xyXG5cdGluc2VydFN1bW1hcnkoKTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZVF1YW50aXR5Q2hvaWNlID0gKGUpID0+IHtcclxuXHRxdWFudGl0eSA9IGUudGFyZ2V0LmRhdGFzZXQucXVhbnRpdHk7XHJcblx0aW5zZXJ0UHJpY2luZ0RhdGEocXVhbnRpdHkpO1xyXG5cdGluc2VydFN1bW1hcnkoKTtcclxufTtcclxuXHJcbi8qIGluc2VydGluZyBwcmljaW5ncyBpbnRvIGZyZXF1ZW5jeSBkZXRhaWxzIHJhZGlvIGJ1dHRvbnMgKi9cclxuY29uc3QgaW5zZXJ0UHJpY2luZ0RhdGEgPSAocXVhbnRpdHkpID0+IHtcclxuXHRjb25zdCB7IHdlZWssIHR3b1dlZWtzLCBtb250aCB9ID0gUFJJQ0lOR19EQVRBW3F1YW50aXR5XTtcclxuXHR3ZWVrUHJpY2luZy5pbm5lclRleHQgPSBgJCR7d2Vlay50b0ZpeGVkKDIpfWA7XHJcblx0dHdvV2Vla1ByaWNpbmcuaW5uZXJUZXh0ID0gYCQke3R3b1dlZWtzLnRvRml4ZWQoMil9YDtcclxuXHRtb250aFByaWNpbmcuaW5uZXJUZXh0ID0gYCQke21vbnRoLnRvRml4ZWQoMil9YDtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUdyaW5kQ2hvaWNlID0gKGUpID0+IHtcclxuXHRncmluZCA9IGUudGFyZ2V0LmRhdGFzZXQuZ3JpbmQ7XHJcblx0aW5zZXJ0U3VtbWFyeSgpO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlRnJlcXVlbmN5Q2hvaWNlID0gKGUpID0+IHtcclxuXHRmcmVxdWVuY3kgPSBlLnRhcmdldC5kYXRhc2V0LmZyZXF1ZW5jeTtcclxuXHRpbnNlcnRTdW1tYXJ5KCk7XHJcbn07XHJcblxyXG5jb25zdCByYWRpb0J1dHRvbkhhbmRsZXIgPSAoZSwgaGFuZGxlcikgPT4ge1xyXG5cdGhhbmRsZXIoZSk7XHJcblx0aGFuZGxlU3VibWl0QnRuQWN0aXZhdGlvbigpO1xyXG59O1xyXG5cclxuLyogc3VtbWFyeSB0ZXh0IGNyZWF0aW9uICovXHJcbmNvbnN0IGluc2VydFN1bW1hcnkgPSAoKSA9PiB7XHJcblx0c3VtbWFyeVRleHQuaW5uZXJIVE1MID0gY3JlYXRlU3VtbWFyeSgpO1xyXG59O1xyXG5cclxuY29uc3QgaW5zZXJ0TW9kYWxTdW1tYXJ5ID0gKCkgPT4ge1xyXG5cdG1vZGFsU3VtbWFyeVRleHQuaW5uZXJIVE1MID0gY3JlYXRlU3VtbWFyeSgpO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlU3VtbWFyeSA9ICgpID0+IHtcclxuXHRjb25zdCBtZXRob2RUZXh0ID0gY3JlYXRlTWV0aG9kUGFydCgpO1xyXG5cdGNvbnN0IGNvZmZlZVR5cGVUZXh0ID0gY3JlYXRlQ29mZmVUeXBlUGFydCgpO1xyXG5cdGNvbnN0IHF1YW50aXR5VGV4dCA9IGNyZWF0ZVF1YW50aXR5UGFydCgpO1xyXG5cdGNvbnN0IGdyaW5kVGV4dCA9IGNyZWF0ZUdyaW5kUGFydCgpO1xyXG5cdGNvbnN0IGZyZXF1ZW5jeVRleHQgPSBjcmVhdGVGcmVxdWVuY3lQYXJ0KCk7XHJcblxyXG5cdHJldHVybiBg4oCcSSBkcmluayBjb2ZmZWUgJHttZXRob2RUZXh0fSwgd2l0aCBhICR7Y29mZmVlVHlwZVRleHR9IHR5cGUgb2YgYmVhbi4gJHtxdWFudGl0eVRleHR9LCAke2dyaW5kVGV4dH1zZW50IHRvIG1lICR7ZnJlcXVlbmN5VGV4dH0u4oCdYDtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZU1ldGhvZFBhcnQgPSAoKSA9PiB7XHJcblx0aWYgKG1ldGhvZCA9PT0gJycpIHJldHVybiBjcmVhdGVTcGFuKCk7XHJcblx0Y29uc3Qgam9pbldvcmQgPSBtZXRob2QgPT09ICdjYXBzdWxlcycgPyAndXNpbmcnIDogJ2FzJztcclxuXHRyZXR1cm4gYCR7am9pbldvcmR9ICR7Y3JlYXRlU3BhbihtZXRob2QpfWA7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVDb2ZmZVR5cGVQYXJ0ID0gKCkgPT4ge1xyXG5cdGNvbnN0IHR5cGUgPSBjb2ZmZWVUeXBlIHx8IFNVTU1BUllfUExBQ0VIT0xERVI7XHJcblx0cmV0dXJuIGNyZWF0ZVNwYW4odHlwZSk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVRdWFudGl0eVBhcnQgPSAoKSA9PiB7XHJcblx0aWYgKHF1YW50aXR5ID09PSAnJykgcmV0dXJuIGNyZWF0ZVNwYW4oKTtcclxuXHRjb25zdCBxdWFudGl0eVRleHQgPSBgJHtxdWFudGl0eX1nYDtcclxuXHRyZXR1cm4gY3JlYXRlU3BhbihxdWFudGl0eVRleHQpO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlR3JpbmRQYXJ0ID0gKCkgPT4ge1xyXG5cdGlmIChtZXRob2QgPT09ICdjYXBzdWxlcycpIHJldHVybiAnJztcclxuXHRjb25zdCBncmluZFRleHQgPSBgZ3JvdW5kIGFsYSAke2dyaW5kID8gY3JlYXRlU3BhbihncmluZCkgOiBjcmVhdGVTcGFuKCl9LCBgO1xyXG5cdHJldHVybiBncmluZFRleHQ7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVGcmVxdWVuY3lQYXJ0ID0gKCkgPT4ge1xyXG5cdGlmIChmcmVxdWVuY3kgPT09ICcnKSByZXR1cm4gY3JlYXRlU3BhbigpO1xyXG5cdGNvbnN0IGZyZXF1ZW5jeVRleHQgPSBgZXZlcnkgJHtmcmVxdWVuY3l9YDtcclxuXHRyZXR1cm4gY3JlYXRlU3BhbihmcmVxdWVuY3lUZXh0KTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVNwYW4gPSAodGV4dCA9IFNVTU1BUllfUExBQ0VIT0xERVIpID0+IHtcclxuXHRyZXR1cm4gYDxzcGFuPiR7dGV4dH08L3NwYW4+YDtcclxufTtcclxuXHJcbi8qIHN1Ym1pdCBidXR0b24gYWN0aXZhdGlvbiAqL1xyXG5jb25zdCBoYW5kbGVTdWJtaXRCdG5BY3RpdmF0aW9uID0gKCkgPT4ge1xyXG5cdGNvbnN0IG1ldGhvZENob3NlbiA9IG1ldGhvZCAhPT0gJyc7XHJcblx0Y29uc3QgY29mZmVlVHlwZUNob3NlbiA9IGNvZmZlZVR5cGUgIT09ICcnO1xyXG5cdGNvbnN0IHF1YW50aXR5Q2hvc2VuID0gcXVhbnRpdHkgIT09ICcnO1xyXG5cdGNvbnN0IGdyaW5kQ2hvc2VuID0gbWV0aG9kICE9PSAnY2Fwc3VsZXMnID8gZ3JpbmQgIT09ICcnIDogdHJ1ZTtcclxuXHRjb25zdCBmcmVxdWVuY3lDaG9zZW4gPSBmcmVxdWVuY3kgIT09ICcnO1xyXG5cdGNvbnN0IHNob3VsZEFjdGl2YXRlID0gbWV0aG9kQ2hvc2VuICYmIGNvZmZlZVR5cGVDaG9zZW4gJiYgcXVhbnRpdHlDaG9zZW4gJiYgZ3JpbmRDaG9zZW4gJiYgZnJlcXVlbmN5Q2hvc2VuO1xyXG5cdHBsYW5TdWJtaXRCdG4udG9nZ2xlQXR0cmlidXRlKCdkaXNhYmxlZCcsICFzaG91bGRBY3RpdmF0ZSk7XHJcbn07XHJcblxyXG4vKiBzdWJtaXQgYnV0dG9uIGhhbmRsaW5nICovXHJcbmNvbnN0IGhhbmRsZVN1Ym1pdEJ0biA9IChlKSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdHNob3dNb2RhbCgpO1xyXG5cdGluc2VydENoZWNrb3V0UHJpY2UoKTtcclxufTtcclxuXHJcbmNvbnN0IGluc2VydENoZWNrb3V0UHJpY2UgPSAoKSA9PiB7XHJcblx0Y29uc3QgY2hlY2tvdXRQcmljZSA9IGNhbGN1bGF0ZVByaWNlKCk7XHJcblx0bW9kYWxDaGVja291dFByaWNlLmlubmVyVGV4dCA9IGAkJHtjaGVja291dFByaWNlfS9tb250aGA7XHJcblx0bW9kYWxCdXR0b25DaGVja291dFByaWNlLmlubmVyVGV4dCA9IGAkJHtjaGVja291dFByaWNlfS9tb2A7XHJcbn07XHJcblxyXG5jb25zdCBjYWxjdWxhdGVQcmljZSA9ICgpID0+IHtcclxuXHRzd2l0Y2ggKGZyZXF1ZW5jeSkge1xyXG5cdFx0Y2FzZSAnd2Vlayc6XHJcblx0XHRcdHJldHVybiAoNCAqIFBSSUNJTkdfREFUQVtxdWFudGl0eV0ud2VlaykudG9GaXhlZCgyKTtcclxuXHRcdGNhc2UgJzIgd2Vla3MnOlxyXG5cdFx0XHRyZXR1cm4gKDIgKiBQUklDSU5HX0RBVEFbcXVhbnRpdHldLnR3b1dlZWtzKS50b0ZpeGVkKDIpO1xyXG5cdFx0Y2FzZSAnbW9udGgnOlxyXG5cdFx0XHRyZXR1cm4gKDEgKiBQUklDSU5HX0RBVEFbcXVhbnRpdHldLm1vbnRoKS50b0ZpeGVkKDIpO1xyXG5cdFx0ZGVmYXVsdDpcclxuXHRcdFx0cmV0dXJuICcwLjAwJztcclxuXHR9XHJcbn07XHJcblxyXG4vKiBtb2RhbCBoYW5kbGluZyAqL1xyXG5jb25zdCBzaG93TW9kYWwgPSAoKSA9PiB7XHJcblx0Y2hlY2tvdXRNb2RhbC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcblx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdtb2RhbC1kcm9wc2hhZG93Jyk7XHJcblx0aW5zZXJ0TW9kYWxTdW1tYXJ5KCk7XHJcblx0Y2xvc2VNb2RhbEJ0bi5mb2N1cygpO1xyXG59O1xyXG5cclxuY29uc3QgY2xvc2VNb2RhbCA9ICgpID0+IHtcclxuXHRjaGVja291dE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuXHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLWRyb3BzaGFkb3cnKTtcclxufTtcclxuXHJcbi8qIHJhZGlvIGJ1dHRvbnMgaGFuZGxlcnMgKi9cclxubWV0aG9kQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiByYWRpb0J1dHRvbkhhbmRsZXIoZSwgaGFuZGxlTWV0aG9kQ2hvaWNlKSkpO1xyXG5jb2ZmZWVUeXBlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+XHJcblx0YnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHJhZGlvQnV0dG9uSGFuZGxlcihlLCBoYW5kbGVDb2ZmZWVUeXBlQ2hvaWNlKSlcclxuKTtcclxucXVhbnRpdHlCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT5cclxuXHRidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gcmFkaW9CdXR0b25IYW5kbGVyKGUsIGhhbmRsZVF1YW50aXR5Q2hvaWNlKSlcclxuKTtcclxuZ3JpbmRCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4gYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHJhZGlvQnV0dG9uSGFuZGxlcihlLCBoYW5kbGVHcmluZENob2ljZSkpKTtcclxuZnJlcXVlbmN5QnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+XHJcblx0YnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHJhZGlvQnV0dG9uSGFuZGxlcihlLCBoYW5kbGVGcmVxdWVuY3lDaG9pY2UpKVxyXG4pO1xyXG5cclxuLyogZ3JpbmQgZGV0YWlscyBoYW5kbGluZyAqL1xyXG5ncmluZERldGFpbHNTdW1tYXJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0aWYgKGdyaW5kRGV0YWlscy5oYXNBdHRyaWJ1dGUoJ2RhdGEtZGlzYWJsZWQnKSkgcmV0dXJuO1xyXG5cdGdyaW5kRGV0YWlscy5vcGVuID0gIWdyaW5kRGV0YWlscy5vcGVuO1xyXG59KTtcclxuXHJcbi8qIHN1Ym1pdCBidXR0b24gKi9cclxucGxhblN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVN1Ym1pdEJ0bik7XHJcbi8qIG1vZGFsICovXHJcbmNsb3NlTW9kYWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZU1vZGFsKTtcclxuIl19
