"use strict";var methodButtons=document.querySelectorAll("[data-method]"),coffeeTypeButtons=document.querySelectorAll("[data-coffee-type]"),quantityButtons=document.querySelectorAll("[data-quantity]"),grindButtons=document.querySelectorAll("[data-grind]"),frequencyButtons=document.querySelectorAll("[data-frequency]"),summaryText=document.querySelector("#summary-text"),modalSummaryText=document.querySelector("#modal-summary-text"),weekPricing=document.querySelector("#week-pricing"),twoWeekPricing=document.querySelector("#two-week-pricing"),monthPricing=document.querySelector("#month-pricing"),checkoutModal=document.querySelector("#checkout-modal"),closeModalBtn=checkoutModal.querySelector("#modal-close-button"),modalCheckoutPrice=checkoutModal.querySelector("#modal-checkout-price"),modalButtonCheckoutPrice=checkoutModal.querySelector("#button-modal-checkout-price"),grindDetails=document.querySelector("#grind-option"),grindDetailsSummary=grindDetails.querySelector("summary"),planSubmitBtn=document.querySelector("#plan-creation-submit"),SUMMARY_PLACEHOLDER="_____",PRICING_DATA={250:{week:7.2,twoWeeks:9.6,month:12},500:{week:13,twoWeeks:17.5,month:22},1e3:{week:22,twoWeeks:32,month:42}},method="",coffeeType="",quantity="",grind="",frequency="",handleMethodChoice=function(e){method=e.target.dataset.method,preventCapsuleGrind(method),insertSummary()},preventCapsuleGrind=function(e){e="capsules"===e;e&&grindDetails.removeAttribute("open"),grindDetails.setAttribute("aria-disabled",e),grindDetails.toggleAttribute("data-disabled",e),grindDetailsSummary.tabIndex=e?-1:0},handleCoffeeTypeChoice=function(e){coffeeType=e.target.dataset.coffeeType,insertSummary()},handleQuantityChoice=function(e){quantity=e.target.dataset.quantity,insertPricingData(quantity),insertSummary()},insertPricingData=function(e){var e=PRICING_DATA[e],t=e.week,n=e.twoWeeks,e=e.month;weekPricing.innerText="$".concat(t.toFixed(2)),twoWeekPricing.innerText="$".concat(n.toFixed(2)),monthPricing.innerText="$".concat(e.toFixed(2))},handleGrindChoice=function(e){grind=e.target.dataset.grind,insertSummary()},handleFrequencyChoice=function(e){frequency=e.target.dataset.frequency,insertSummary()},radioButtonHandler=function(e,t){t(e),handleSubmitBtnActivation()},insertSummary=function(){summaryText.innerHTML=createSummary()},insertModalSummary=function(){modalSummaryText.innerHTML=createSummary()},createSummary=function(){var e=createMethodPart(),t=createCoffeTypePart(),n=createQuantityPart(),r=createGrindPart(),a=createFrequencyPart();return"“I drink coffee ".concat(e,", with a ").concat(t," type of bean. ").concat(n,", ").concat(r,"sent to me ").concat(a,".”")},createMethodPart=function(){var e;return""===method?createSpan():(e="capsules"===method?"using":"as","".concat(e," ").concat(createSpan(method)))},createCoffeTypePart=function(){return createSpan(coffeeType||SUMMARY_PLACEHOLDER)},createQuantityPart=function(){var e;return""===quantity?createSpan():(e="".concat(quantity,"g"),createSpan(e))},createGrindPart=function(){return"capsules"===method?"":"ground ala ".concat(grind?createSpan(grind):createSpan(),", ")},createFrequencyPart=function(){var e;return""===frequency?createSpan():(e="every ".concat(frequency),createSpan(e))},createSpan=function(){return"<span>".concat(0<arguments.length&&void 0!==arguments[0]?arguments[0]:SUMMARY_PLACEHOLDER,"</span>")},handleSubmitBtnActivation=function(){var e=""!==method,t=""!==coffeeType,n=""!==quantity,r="capsules"===method||""!==grind,a=""!==frequency;planSubmitBtn.toggleAttribute("disabled",!(e&&t&&n&&r&&a))},handleSubmitBtn=function(e){e.preventDefault(),showModal(),insertCheckoutPrice()},insertCheckoutPrice=function(){var e=calculatePrice();modalCheckoutPrice.innerText="$".concat(e,"/month"),modalButtonCheckoutPrice.innerText="-$".concat(e,"/mo")},calculatePrice=function(){switch(frequency){case"week":return(4*PRICING_DATA[quantity].week).toFixed(2);case"2 weeks":return(2*PRICING_DATA[quantity].twoWeeks).toFixed(2);case"month":return(+PRICING_DATA[quantity].month).toFixed(2);default:return"0.00"}},showModal=function(){checkoutModal.classList.add("visible"),document.body.classList.add("modal-dropshadow"),insertModalSummary(),closeModalBtn.focus()},closeModal=function(){checkoutModal.classList.remove("visible"),document.body.classList.remove("modal-dropshadow"),planSubmitBtn.focus()};methodButtons.forEach(function(e){return e.addEventListener("click",function(e){return radioButtonHandler(e,handleMethodChoice)})}),coffeeTypeButtons.forEach(function(e){return e.addEventListener("click",function(e){return radioButtonHandler(e,handleCoffeeTypeChoice)})}),quantityButtons.forEach(function(e){return e.addEventListener("click",function(e){return radioButtonHandler(e,handleQuantityChoice)})}),grindButtons.forEach(function(e){return e.addEventListener("click",function(e){return radioButtonHandler(e,handleGrindChoice)})}),frequencyButtons.forEach(function(e){return e.addEventListener("click",function(e){return radioButtonHandler(e,handleFrequencyChoice)})}),grindDetailsSummary.addEventListener("click",function(e){e.preventDefault(),grindDetails.hasAttribute("data-disabled")||(grindDetails.open=!grindDetails.open)}),planSubmitBtn.addEventListener("click",handleSubmitBtn),closeModalBtn.addEventListener("click",closeModal);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsYW4tZm9ybS5qcyJdLCJuYW1lcyI6WyJtZXRob2RCdXR0b25zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29mZmVlVHlwZUJ1dHRvbnMiLCJxdWFudGl0eUJ1dHRvbnMiLCJncmluZEJ1dHRvbnMiLCJmcmVxdWVuY3lCdXR0b25zIiwid2Vla1ByaWNpbmciLCJxdWVyeVNlbGVjdG9yIiwic3VtbWFyeVRleHQiLCJtb2RhbFN1bW1hcnlUZXh0IiwiY2hlY2tvdXRNb2RhbCIsInR3b1dlZWtQcmljaW5nIiwibW9udGhQcmljaW5nIiwiZ3JpbmREZXRhaWxzIiwiY2xvc2VNb2RhbEJ0biIsIlNVTU1BUllfUExBQ0VIT0xERVIiLCJQUklDSU5HX0RBVEEiLCIyNTAiLCJ3ZWVrIiwiZ3JpbmREZXRhaWxzU3VtbWFyeSIsInR3b1dlZWtzIiwicGxhblN1Ym1pdEJ0biIsIm1vbnRoIiwiNTAwIiwiMTAwMCIsIm1ldGhvZCIsImZyZXF1ZW5jeSIsImNvZmZlZVR5cGUiLCJlIiwicXVhbnRpdHkiLCJ0YXJnZXQiLCJkYXRhc2V0IiwicHJldmVudENhcHN1bGVHcmluZCIsImluc2VydFN1bW1hcnkiLCJpc0NhcHN1bGVzIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwidG9nZ2xlQXR0cmlidXRlIiwidGFiSW5kZXgiLCJoYW5kbGVRdWFudGl0eUNob2ljZSIsImluc2VydFByaWNpbmdEYXRhIiwiX1BSSUNJTkdfREFUQSRxdWFudGl0IiwiY29uY2F0IiwidG9GaXhlZCIsImhhbmRsZUdyaW5kQ2hvaWNlIiwiZ3JpbmQiLCJoYW5kbGVyIiwiaGFuZGxlU3VibWl0QnRuQWN0aXZhdGlvbiIsImlubmVySFRNTCIsImNyZWF0ZVN1bW1hcnkiLCJjb2ZmZWVUeXBlVGV4dCIsImNyZWF0ZUNvZmZlVHlwZVBhcnQiLCJxdWFudGl0eVRleHQiLCJjcmVhdGVRdWFudGl0eVBhcnQiLCJncmluZFRleHQiLCJjcmVhdGVHcmluZFBhcnQiLCJmcmVxdWVuY3lUZXh0IiwiY3JlYXRlRnJlcXVlbmN5UGFydCIsImluc2VydE1vZGFsU3VtbWFyeSIsImpvaW5Xb3JkIiwiY3JlYXRlU3BhbiIsImNyZWF0ZU1ldGhvZFBhcnQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJtZXRob2RDaG9zZW4iLCJmcmVxdWVuY3lDaG9zZW4iLCJjb2ZmZWVUeXBlQ2hvc2VuIiwicXVhbnRpdHlDaG9zZW4iLCJncmluZENob3NlbiIsImhhbmRsZVN1Ym1pdEJ0biIsInByZXZlbnREZWZhdWx0Iiwic2hvd01vZGFsIiwiaW5zZXJ0Q2hlY2tvdXRQcmljZSIsIm1vZGFsQ2hlY2tvdXRQcmljZSIsImNoZWNrb3V0UHJpY2UiLCJtb2RhbEJ1dHRvbkNoZWNrb3V0UHJpY2UiLCJjYWxjdWxhdGVQcmljZSIsImNsYXNzTGlzdCIsImFkZCIsImZvY3VzIiwiY2xvc2VNb2RhbCIsImJvZHkiLCJyZW1vdmUiLCJmb3JFYWNoIiwiYnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJhZGlvQnV0dG9uSGFuZGxlciIsImhhbmRsZU1ldGhvZENob2ljZSIsImhhbmRsZUNvZmZlZVR5cGVDaG9pY2UiLCJoYW5kbGVGcmVxdWVuY3lDaG9pY2UiLCJvcGVuIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFBQSxjQUFBQyxTQUFBQyxpQkFBQSxlQUFBLEVBR01DLGtCQUFvQkYsU0FBU0MsaUJBQWlCLG9CQUExQixFQUYxQkUsZ0JBQUFILFNBQUFDLGlCQUFBLGlCQUFBLEVBQ01GLGFBQWdCQyxTQUFTQyxpQkFBaUIsY0FBMUJELEVBQ2hCRSxpQkFBb0JGLFNBQVNDLGlCQUFpQixrQkFBMUJELEVBRXBCSSxZQUFlSixTQUFTQyxjQUFBQSxlQUFURCxFQUNmSyxpQkFBbUJMLFNBQVNDLGNBQVQscUJBQUFELEVBS25CTSxZQUFjTixTQUFTTyxjQUFjLGVBQXZCLEVBSGRDLGVBQWNSLFNBQVNPLGNBQWMsbUJBQXZCUCxFQUNkUyxhQUFnQlQsU0FBR0EsY0FBU08sZ0JBQVosRUFNaEJHLGNB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LE9BQWNPLEVBQTVCQyxpQkFBQSxRQUFBLFNBQUExRCxHQUFBLE9BQUEyRCxtQkFBQTNELEVBQUFnQixpQkFBQSxDQUFBLENBQTRCLENBQWRrQyxDQW9CZixFQUNBekUsaUJBcEJleUUsUUFBZCxTQUF3QkMsR0FBeEIsT0FxQkFNLEVBcEJBM0IsaUJBQWtCLFFBQUEsU0FBQTlCLEdBQUEsT0FBQTJELG1CQUFBM0QsRUFBQThELHFCQUFBLENBQUEsQ0FvQmxCLENBckJBLENBb0JELEVBZkF2RSxvQkFBbUJtRSxpQkFBQSxRQUFNLFNBQUExRCxHQXFCeEJBLEVBcEJBbEIsZUFvQkEsRUFuQkFWLGFBQWM4RSxhQUFVSyxlQUF4Qm5GLElBcUJBYSxhQXBCQVEsS0FBQSxDQUFBUixhQUF1QjhFLEtBSHhCLENBQUEsRUEyQkF0RSxjQUFjaUUsaUJBQWlCLFFBQVNoQixlQUF4QyxFQUVBeEQsY0F0QmtDdUUsaUJBQU9DLFFBQVBMLFVBc0JsQyIsImZpbGUiOiJwbGFuLWZvcm0ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZm9ybSBlbGVtZW50cyAqL1xyXG4vKiAtLS0gcmFkaW8gYnV0dG9ucyAtLS0gKi9cclxuY29uc3QgbWV0aG9kQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1ldGhvZF0nKTtcclxuY29uc3QgY29mZmVlVHlwZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb2ZmZWUtdHlwZV0nKTtcclxuY29uc3QgcXVhbnRpdHlCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcXVhbnRpdHldJyk7XHJcbmNvbnN0IGdyaW5kQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWdyaW5kXScpO1xyXG5jb25zdCBmcmVxdWVuY3lCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZnJlcXVlbmN5XScpO1xyXG4vKiBvdXRwdXRzICovXHJcbmNvbnN0IHN1bW1hcnlUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N1bW1hcnktdGV4dCcpO1xyXG5jb25zdCBtb2RhbFN1bW1hcnlUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21vZGFsLXN1bW1hcnktdGV4dCcpO1xyXG4vKiBwcmljaW5nIHNwYW5zICovXHJcbmNvbnN0IHdlZWtQcmljaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dlZWstcHJpY2luZycpO1xyXG5jb25zdCB0d29XZWVrUHJpY2luZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0d28td2Vlay1wcmljaW5nJyk7XHJcbmNvbnN0IG1vbnRoUHJpY2luZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtb250aC1wcmljaW5nJyk7XHJcbi8qIG1vZGFsICovXHJcbmNvbnN0IGNoZWNrb3V0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2hlY2tvdXQtbW9kYWwnKTtcclxuY29uc3QgY2xvc2VNb2RhbEJ0biA9IGNoZWNrb3V0TW9kYWwucXVlcnlTZWxlY3RvcignI21vZGFsLWNsb3NlLWJ1dHRvbicpO1xyXG5jb25zdCBtb2RhbENoZWNrb3V0UHJpY2UgPSBjaGVja291dE1vZGFsLnF1ZXJ5U2VsZWN0b3IoJyNtb2RhbC1jaGVja291dC1wcmljZScpO1xyXG5jb25zdCBtb2RhbEJ1dHRvbkNoZWNrb3V0UHJpY2UgPSBjaGVja291dE1vZGFsLnF1ZXJ5U2VsZWN0b3IoJyNidXR0b24tbW9kYWwtY2hlY2tvdXQtcHJpY2UnKTtcclxuLyogLS0tIG90aGVyIC0tLSAqL1xyXG5jb25zdCBncmluZERldGFpbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZ3JpbmQtb3B0aW9uJyk7XHJcbmNvbnN0IGdyaW5kRGV0YWlsc1N1bW1hcnkgPSBncmluZERldGFpbHMucXVlcnlTZWxlY3Rvcignc3VtbWFyeScpO1xyXG5jb25zdCBwbGFuU3VibWl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BsYW4tY3JlYXRpb24tc3VibWl0Jyk7XHJcbi8qIGZvcm0gZWxlbWVudHMgZW5kICovXHJcblxyXG5jb25zdCBTVU1NQVJZX1BMQUNFSE9MREVSID0gJ19fX19fJztcclxuY29uc3QgUFJJQ0lOR19EQVRBID0ge1xyXG5cdDI1MDoge1xyXG5cdFx0d2VlazogNy4yLFxyXG5cdFx0dHdvV2Vla3M6IDkuNixcclxuXHRcdG1vbnRoOiAxMi4wLFxyXG5cdH0sXHJcblx0NTAwOiB7XHJcblx0XHR3ZWVrOiAxMy4wLFxyXG5cdFx0dHdvV2Vla3M6IDE3LjUsXHJcblx0XHRtb250aDogMjIuMCxcclxuXHR9LFxyXG5cdDEwMDA6IHtcclxuXHRcdHdlZWs6IDIyLjAsXHJcblx0XHR0d29XZWVrczogMzIuMCxcclxuXHRcdG1vbnRoOiA0Mi4wLFxyXG5cdH0sXHJcbn07XHJcblxyXG5sZXQgbWV0aG9kID0gJyc7XHJcbmxldCBjb2ZmZWVUeXBlID0gJyc7XHJcbmxldCBxdWFudGl0eSA9ICcnO1xyXG5sZXQgZ3JpbmQgPSAnJztcclxubGV0IGZyZXF1ZW5jeSA9ICcnO1xyXG5cclxuLyogcmFkaW8gYnV0dG9ucyBoYW5kbGluZyAqL1xyXG5jb25zdCBoYW5kbGVNZXRob2RDaG9pY2UgPSAoZSkgPT4ge1xyXG5cdG1ldGhvZCA9IGUudGFyZ2V0LmRhdGFzZXQubWV0aG9kO1xyXG5cdHByZXZlbnRDYXBzdWxlR3JpbmQobWV0aG9kKTtcclxuXHRpbnNlcnRTdW1tYXJ5KCk7XHJcbn07XHJcblxyXG4vKiBoYW5kbGluZyBkZXRhaWxzIGZvciBncmluZGluZyBvcHRpb25zIHVzaW5nIG1ldGhvZCBjaG9zZW4gKi9cclxuY29uc3QgcHJldmVudENhcHN1bGVHcmluZCA9IChtZXRob2QpID0+IHtcclxuXHRjb25zdCBpc0NhcHN1bGVzID0gbWV0aG9kID09PSAnY2Fwc3VsZXMnO1xyXG5cdGlzQ2Fwc3VsZXMgPyBncmluZERldGFpbHMucmVtb3ZlQXR0cmlidXRlKCdvcGVuJykgOiBudWxsOyAvLyBoaWRlIGdyaW5kIGRldGFpbHMgaWYgY2Fwc3VsZXMgY2hvc2VuXHJcblx0Z3JpbmREZXRhaWxzLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsIGlzQ2Fwc3VsZXMpO1xyXG5cdGdyaW5kRGV0YWlscy50b2dnbGVBdHRyaWJ1dGUoJ2RhdGEtZGlzYWJsZWQnLCBpc0NhcHN1bGVzKTsgLy8gZGlzYWJsZWQgc3R5bGVzIGZvciBncmluZCBkZXRhaWxzIGFjY29yZGlvblxyXG5cdGdyaW5kRGV0YWlsc1N1bW1hcnkudGFiSW5kZXggPSBpc0NhcHN1bGVzID8gLTEgOiAwOyAvLyBwcmV2ZW50IGZyb20gdGFiYmluZyBpZiBkaXNhYmxlZFxyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlQ29mZmVlVHlwZUNob2ljZSA9IChlKSA9PiB7XHJcblx0Y29mZmVlVHlwZSA9IGUudGFyZ2V0LmRhdGFzZXQuY29mZmVlVHlwZTtcclxuXHRpbnNlcnRTdW1tYXJ5KCk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVRdWFudGl0eUNob2ljZSA9IChlKSA9PiB7XHJcblx0cXVhbnRpdHkgPSBlLnRhcmdldC5kYXRhc2V0LnF1YW50aXR5O1xyXG5cdGluc2VydFByaWNpbmdEYXRhKHF1YW50aXR5KTtcclxuXHRpbnNlcnRTdW1tYXJ5KCk7XHJcbn07XHJcblxyXG4vKiBpbnNlcnRpbmcgcHJpY2luZ3MgaW50byBmcmVxdWVuY3kgZGV0YWlscyByYWRpbyBidXR0b25zICovXHJcbmNvbnN0IGluc2VydFByaWNpbmdEYXRhID0gKHF1YW50aXR5KSA9PiB7XHJcblx0Y29uc3QgeyB3ZWVrLCB0d29XZWVrcywgbW9udGggfSA9IFBSSUNJTkdfREFUQVtxdWFudGl0eV07XHJcblx0d2Vla1ByaWNpbmcuaW5uZXJUZXh0ID0gYCQke3dlZWsudG9GaXhlZCgyKX1gO1xyXG5cdHR3b1dlZWtQcmljaW5nLmlubmVyVGV4dCA9IGAkJHt0d29XZWVrcy50b0ZpeGVkKDIpfWA7XHJcblx0bW9udGhQcmljaW5nLmlubmVyVGV4dCA9IGAkJHttb250aC50b0ZpeGVkKDIpfWA7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVHcmluZENob2ljZSA9IChlKSA9PiB7XHJcblx0Z3JpbmQgPSBlLnRhcmdldC5kYXRhc2V0LmdyaW5kO1xyXG5cdGluc2VydFN1bW1hcnkoKTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUZyZXF1ZW5jeUNob2ljZSA9IChlKSA9PiB7XHJcblx0ZnJlcXVlbmN5ID0gZS50YXJnZXQuZGF0YXNldC5mcmVxdWVuY3k7XHJcblx0aW5zZXJ0U3VtbWFyeSgpO1xyXG59O1xyXG5cclxuY29uc3QgcmFkaW9CdXR0b25IYW5kbGVyID0gKGUsIGhhbmRsZXIpID0+IHtcclxuXHRoYW5kbGVyKGUpO1xyXG5cdGhhbmRsZVN1Ym1pdEJ0bkFjdGl2YXRpb24oKTtcclxufTtcclxuXHJcbi8qIHN1bW1hcnkgdGV4dCBjcmVhdGlvbiAqL1xyXG5jb25zdCBpbnNlcnRTdW1tYXJ5ID0gKCkgPT4ge1xyXG5cdHN1bW1hcnlUZXh0LmlubmVySFRNTCA9IGNyZWF0ZVN1bW1hcnkoKTtcclxufTtcclxuXHJcbmNvbnN0IGluc2VydE1vZGFsU3VtbWFyeSA9ICgpID0+IHtcclxuXHRtb2RhbFN1bW1hcnlUZXh0LmlubmVySFRNTCA9IGNyZWF0ZVN1bW1hcnkoKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVN1bW1hcnkgPSAoKSA9PiB7XHJcblx0Y29uc3QgbWV0aG9kVGV4dCA9IGNyZWF0ZU1ldGhvZFBhcnQoKTtcclxuXHRjb25zdCBjb2ZmZWVUeXBlVGV4dCA9IGNyZWF0ZUNvZmZlVHlwZVBhcnQoKTtcclxuXHRjb25zdCBxdWFudGl0eVRleHQgPSBjcmVhdGVRdWFudGl0eVBhcnQoKTtcclxuXHRjb25zdCBncmluZFRleHQgPSBjcmVhdGVHcmluZFBhcnQoKTtcclxuXHRjb25zdCBmcmVxdWVuY3lUZXh0ID0gY3JlYXRlRnJlcXVlbmN5UGFydCgpO1xyXG5cclxuXHRyZXR1cm4gYOKAnEkgZHJpbmsgY29mZmVlICR7bWV0aG9kVGV4dH0sIHdpdGggYSAke2NvZmZlZVR5cGVUZXh0fSB0eXBlIG9mIGJlYW4uICR7cXVhbnRpdHlUZXh0fSwgJHtncmluZFRleHR9c2VudCB0byBtZSAke2ZyZXF1ZW5jeVRleHR9LuKAnWA7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVNZXRob2RQYXJ0ID0gKCkgPT4ge1xyXG5cdGlmIChtZXRob2QgPT09ICcnKSByZXR1cm4gY3JlYXRlU3BhbigpO1xyXG5cdGNvbnN0IGpvaW5Xb3JkID0gbWV0aG9kID09PSAnY2Fwc3VsZXMnID8gJ3VzaW5nJyA6ICdhcyc7XHJcblx0cmV0dXJuIGAke2pvaW5Xb3JkfSAke2NyZWF0ZVNwYW4obWV0aG9kKX1gO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQ29mZmVUeXBlUGFydCA9ICgpID0+IHtcclxuXHRjb25zdCB0eXBlID0gY29mZmVlVHlwZSB8fCBTVU1NQVJZX1BMQUNFSE9MREVSO1xyXG5cdHJldHVybiBjcmVhdGVTcGFuKHR5cGUpO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlUXVhbnRpdHlQYXJ0ID0gKCkgPT4ge1xyXG5cdGlmIChxdWFudGl0eSA9PT0gJycpIHJldHVybiBjcmVhdGVTcGFuKCk7XHJcblx0Y29uc3QgcXVhbnRpdHlUZXh0ID0gYCR7cXVhbnRpdHl9Z2A7XHJcblx0cmV0dXJuIGNyZWF0ZVNwYW4ocXVhbnRpdHlUZXh0KTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUdyaW5kUGFydCA9ICgpID0+IHtcclxuXHRpZiAobWV0aG9kID09PSAnY2Fwc3VsZXMnKSByZXR1cm4gJyc7XHJcblx0Y29uc3QgZ3JpbmRUZXh0ID0gYGdyb3VuZCBhbGEgJHtncmluZCA/IGNyZWF0ZVNwYW4oZ3JpbmQpIDogY3JlYXRlU3BhbigpfSwgYDtcclxuXHRyZXR1cm4gZ3JpbmRUZXh0O1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlRnJlcXVlbmN5UGFydCA9ICgpID0+IHtcclxuXHRpZiAoZnJlcXVlbmN5ID09PSAnJykgcmV0dXJuIGNyZWF0ZVNwYW4oKTtcclxuXHRjb25zdCBmcmVxdWVuY3lUZXh0ID0gYGV2ZXJ5ICR7ZnJlcXVlbmN5fWA7XHJcblx0cmV0dXJuIGNyZWF0ZVNwYW4oZnJlcXVlbmN5VGV4dCk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVTcGFuID0gKHRleHQgPSBTVU1NQVJZX1BMQUNFSE9MREVSKSA9PiB7XHJcblx0cmV0dXJuIGA8c3Bhbj4ke3RleHR9PC9zcGFuPmA7XHJcbn07XHJcblxyXG4vKiBzdWJtaXQgYnV0dG9uIGFjdGl2YXRpb24gKi9cclxuY29uc3QgaGFuZGxlU3VibWl0QnRuQWN0aXZhdGlvbiA9ICgpID0+IHtcclxuXHRjb25zdCBtZXRob2RDaG9zZW4gPSBtZXRob2QgIT09ICcnO1xyXG5cdGNvbnN0IGNvZmZlZVR5cGVDaG9zZW4gPSBjb2ZmZWVUeXBlICE9PSAnJztcclxuXHRjb25zdCBxdWFudGl0eUNob3NlbiA9IHF1YW50aXR5ICE9PSAnJztcclxuXHRjb25zdCBncmluZENob3NlbiA9IG1ldGhvZCAhPT0gJ2NhcHN1bGVzJyA/IGdyaW5kICE9PSAnJyA6IHRydWU7XHJcblx0Y29uc3QgZnJlcXVlbmN5Q2hvc2VuID0gZnJlcXVlbmN5ICE9PSAnJztcclxuXHRjb25zdCBzaG91bGRBY3RpdmF0ZSA9IG1ldGhvZENob3NlbiAmJiBjb2ZmZWVUeXBlQ2hvc2VuICYmIHF1YW50aXR5Q2hvc2VuICYmIGdyaW5kQ2hvc2VuICYmIGZyZXF1ZW5jeUNob3NlbjtcclxuXHRwbGFuU3VibWl0QnRuLnRvZ2dsZUF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAhc2hvdWxkQWN0aXZhdGUpO1xyXG59O1xyXG5cclxuLyogc3VibWl0IGJ1dHRvbiBoYW5kbGluZyAqL1xyXG5jb25zdCBoYW5kbGVTdWJtaXRCdG4gPSAoZSkgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRzaG93TW9kYWwoKTtcclxuXHRpbnNlcnRDaGVja291dFByaWNlKCk7XHJcbn07XHJcblxyXG5jb25zdCBpbnNlcnRDaGVja291dFByaWNlID0gKCkgPT4ge1xyXG5cdGNvbnN0IGNoZWNrb3V0UHJpY2UgPSBjYWxjdWxhdGVQcmljZSgpO1xyXG5cdG1vZGFsQ2hlY2tvdXRQcmljZS5pbm5lclRleHQgPSBgJCR7Y2hlY2tvdXRQcmljZX0vbW9udGhgO1xyXG5cdG1vZGFsQnV0dG9uQ2hlY2tvdXRQcmljZS5pbm5lclRleHQgPSBgLSQke2NoZWNrb3V0UHJpY2V9L21vYDtcclxufTtcclxuXHJcbmNvbnN0IGNhbGN1bGF0ZVByaWNlID0gKCkgPT4ge1xyXG5cdHN3aXRjaCAoZnJlcXVlbmN5KSB7XHJcblx0XHRjYXNlICd3ZWVrJzpcclxuXHRcdFx0cmV0dXJuICg0ICogUFJJQ0lOR19EQVRBW3F1YW50aXR5XS53ZWVrKS50b0ZpeGVkKDIpO1xyXG5cdFx0Y2FzZSAnMiB3ZWVrcyc6XHJcblx0XHRcdHJldHVybiAoMiAqIFBSSUNJTkdfREFUQVtxdWFudGl0eV0udHdvV2Vla3MpLnRvRml4ZWQoMik7XHJcblx0XHRjYXNlICdtb250aCc6XHJcblx0XHRcdHJldHVybiAoMSAqIFBSSUNJTkdfREFUQVtxdWFudGl0eV0ubW9udGgpLnRvRml4ZWQoMik7XHJcblx0XHRkZWZhdWx0OlxyXG5cdFx0XHRyZXR1cm4gJzAuMDAnO1xyXG5cdH1cclxufTtcclxuXHJcbi8qIG1vZGFsIGhhbmRsaW5nICovXHJcbmNvbnN0IHNob3dNb2RhbCA9ICgpID0+IHtcclxuXHRjaGVja291dE1vZGFsLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuXHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ21vZGFsLWRyb3BzaGFkb3cnKTtcclxuXHRpbnNlcnRNb2RhbFN1bW1hcnkoKTtcclxuXHRjbG9zZU1vZGFsQnRuLmZvY3VzKCk7XHJcbn07XHJcblxyXG5jb25zdCBjbG9zZU1vZGFsID0gKCkgPT4ge1xyXG5cdGNoZWNrb3V0TW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG5cdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtZHJvcHNoYWRvdycpO1xyXG5cdHBsYW5TdWJtaXRCdG4uZm9jdXMoKTsgLy8gb24gY2xvc2UgZ2l2ZSBjcmVhdGlvbiBidXR0b24gZm9jdXNcclxufTtcclxuXHJcbi8qIHJhZGlvIGJ1dHRvbnMgaGFuZGxlcnMgKi9cclxubWV0aG9kQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiByYWRpb0J1dHRvbkhhbmRsZXIoZSwgaGFuZGxlTWV0aG9kQ2hvaWNlKSkpO1xyXG5jb2ZmZWVUeXBlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+XHJcblx0YnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHJhZGlvQnV0dG9uSGFuZGxlcihlLCBoYW5kbGVDb2ZmZWVUeXBlQ2hvaWNlKSlcclxuKTtcclxucXVhbnRpdHlCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT5cclxuXHRidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gcmFkaW9CdXR0b25IYW5kbGVyKGUsIGhhbmRsZVF1YW50aXR5Q2hvaWNlKSlcclxuKTtcclxuZ3JpbmRCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4gYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHJhZGlvQnV0dG9uSGFuZGxlcihlLCBoYW5kbGVHcmluZENob2ljZSkpKTtcclxuZnJlcXVlbmN5QnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+XHJcblx0YnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHJhZGlvQnV0dG9uSGFuZGxlcihlLCBoYW5kbGVGcmVxdWVuY3lDaG9pY2UpKVxyXG4pO1xyXG5cclxuLyogZ3JpbmQgZGV0YWlscyBoYW5kbGluZyAqL1xyXG5ncmluZERldGFpbHNTdW1tYXJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0aWYgKGdyaW5kRGV0YWlscy5oYXNBdHRyaWJ1dGUoJ2RhdGEtZGlzYWJsZWQnKSkgcmV0dXJuO1xyXG5cdGdyaW5kRGV0YWlscy5vcGVuID0gIWdyaW5kRGV0YWlscy5vcGVuO1xyXG59KTtcclxuXHJcbi8qIHN1Ym1pdCBidXR0b24gKi9cclxucGxhblN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVN1Ym1pdEJ0bik7XHJcbi8qIG1vZGFsICovXHJcbmNsb3NlTW9kYWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZU1vZGFsKTtcclxuIl19
